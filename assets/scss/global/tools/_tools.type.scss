
@function text-size($key: 'md'){
    $text-c : 'size';
    $text-t : 'text';
    $text-i : null;

    $q: dot-str($text-c, $text-t);
    $map: map($q);
   
    @if map-has-key($map, $key) {
     
        @return map-get($map, $key);
    } @else{
        @warn error-maps('text-size()', $map, $key);
        @return '';
    }
}

@function font-weight($key:'regular', $type:'sans'){
    $text-c : 'type';
    $text-t : 'font-weight';
    $text-i : $type;

    $q: dot-str($text-c, $text-t, $text-i);
    $map: map($q);

    @if map-has-key($map, $key) {
        @return map-get($map, $key);
    } @else{
        @warn error-maps('font-weight()', $map, $key);
        @return '';
    }
}

@mixin font-weight($name, $type:'sans'){
    font-weight: font-weight($name, $type);
}

@function line-height($key:'default'){
    $lh-c : 'type';
    $lh-t : 'line-height';
    $lh-i : null;

    $q: dot-str($lh-c, $lh-t);
    $map: map($q);

    @if map-has-key($map, $key) {
        @return map-get($map, $key);
    } @else{
        @warn error-maps('line-height()', $map, $key);
        @return '';
    }
}

@function crop-math($line-height: 1.5, $top-adjustment: 0px, $bottom-adjustment: 0px) {
    $top-crop: 10;
    $bottom-crop: 8;
    $crop-font-size: 32;
    $crop-line-height: 1.25;
    @return max(($top-crop + ($line-height - $crop-line-height) * ($crop-font-size / 2)), 0) / $crop-font-size;    
}


@mixin text-crop($line-height: 1.4, $top-adjustment: 0px, $bottom-adjustment: 0px) {
    // Configured in Step 1
    $top-crop: 15;
    $bottom-crop: 13;
    $crop-font-size: 32;
    $crop-line-height: 1.5;

    // Apply values to calculate em-based margins that work with any font size
    $dynamic-top-crop: max(($top-crop + ($line-height - $crop-line-height) * ($crop-font-size / 2)), 0) / $crop-font-size;
    $dynamic-bottom-crop: max(($bottom-crop + ($line-height - $crop-line-height) * ($crop-font-size / 2)), 0) / $crop-font-size;

    // Mixin output
    line-height: $line-height;

    &::before,
    &::after {
        content: '';
        display: block;
        height: 0;
        width: 0;
    }

    &::before {
        margin-bottom: calc(-#{$dynamic-top-crop}em + #{$top-adjustment});
    }

    &::after {
        margin-top: calc(-#{$dynamic-bottom-crop}em + #{$bottom-adjustment});
    }
}